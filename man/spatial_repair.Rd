% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/2_repair.R
\name{spatial_repair}
\alias{spatial_repair}
\title{Repair spatially overlapping adjacent putative clusters}
\usage{
spatial_repair(ctdf, time_contiguity = TRUE)
}
\arguments{
\item{ctdf}{A \code{ctdf} object. Must contain \code{.putative_cluster} (typically produced by \code{\link[=slice_ctdf]{slice_ctdf()}}).}

\item{time_contiguity}{Logical; if \code{TRUE}, enforce temporal contiguity within clusters by filling
internal gaps as described above. Default is \code{TRUE}.}
}
\value{
The input \code{ctdf}, invisibly, with \code{.putative_cluster} updated in-place.
}
\description{
Iteratively merges temporally adjacent putative clusters whose convex hulls intersect.
This operates on the \code{.putative_cluster} column created by \code{\link[=slice_ctdf]{slice_ctdf()}} and updates it in-place.
}
\details{
If \code{time_contiguity = TRUE}, missing \code{.putative_cluster} values between identical
forward- and backward-filled labels are filled, so each cluster becomes
temporally contiguous (short spatial outliers inside a cluster are absorbed).
}
